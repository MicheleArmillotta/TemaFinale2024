<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
	<!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/css/foundation.min.css"
		crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/js/foundation.min.js"
		crossorigin="anonymous"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/templateISS.css">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/main.css">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/navbar.css">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/table.css">
	<link rel="stylesheet" type="text/css" href="./commons/resources/styles/code.css">
	<!-- <script type="text/javascript" src="./commons/resources/scripts/myScripts.js"></script> -->
	<style type="text/css">
		body {
			margin-left: 30px;
			margin-right: 30px;
		}

		;

		P {
			font-family: Tahoma;
			font-size: 10pt;
		}

		;

		a,
		a:visited,
		a:active,
		a:link,
		a:hover {
			text-decoration: underline;
			color: #545454;
			background-color: transparent;
			font-size: 93%;
		}

		a:hover {
			background-color: #cccccc;
		}


		hr {
			clear: both;
			height: 1px;
			color: #242424;
			background-color: transparent;
		}

		h1,
		h2,
		h3 {
			color: #242424;
			clear: left;
			font: 100% Tahoma, Helvetica, Arial, sans-serif;
			margin-bottom: 0.5em;
			padding-top: 0.5em;
			border-radius: 10px;
			padding: 5px;
		}

		top {
			width: 100%;
		}


		#i {
			color: #ff1010;
		}

		tt {
			font-family: "Arial";
			font-size: 90%;
			color: #006600;
		}

		em {
			font-family: "Arial";
			font-size: 80%;
			font-weight: bold;
			border-style: solid;
			border-color: #abe876;
			color: #1632cc;
		}

		bc {
			font-family: "Arial";
			font-size: 90%;
			font-weight: bold;
			color: #990000;
			background-color: #fcf8c7;
		}

		ks {
			font-family: "Arial";
			font-weight: bold;
			color: #0000CD;
			font-size: 90%;
		}

		kc {
			font-family: "Arial";
			font-weight: bold;
			color: #008000;
			font-size: 90%;
		}

		pre {
			font-family: "Consolas";
			font-size: 85%;
			background-color: #f5f5f5;
			border: 1.5px solid silver;
			padding: 5px;
		}

		m {
			font-family: "Helvetica";
			line-height: 100%;
			font-size: 75%;
		}

		div.body {

			font-size: 18px;
		}

		k {
			color: #990000;
			font-weight: bold;
			font-size: 90%;
		}

		h1 {
			font-size: 150%;
			background-color: #b2c0ff;
			padding: 10px;
		}

		h2 {
			background-color: #9ed8ff;
			font-size: 130%;
		}

		h3 {
			background-color: #e6ccff;
			font-size: 100%;
		}

		h4 {
			background-color: #ccffcc;
			font-size: 100%;
			width: 95%;
			border-radius: 5px;
			padding: 2px;
		}

		h5 {
			background-color: #d5ffb0;
			font-size: 100%;

		}

		div.req {
			background-color: #d9ffb3;
			font-size: 18px;
			width: 700px;
			border: 3px solid green;
			padding: 15px;
			margin: 10px;
		}

		div.remark {
			background-color: #E3F2FD;
			border: 1.5px solid #d5f2ed;
			padding: 15px;
			margin: 10px;
			border-radius: 25px;
		}

		table,
		th,
		td {
			border: 1px solid black;
			border-collapse: collapse;
		}

		ol,
		ul,
		li {
			margin: 0;
			margin-left: 10px;
			padding: 0;
			padding-bottom: 5px;
		}

		table,
		th,
		td {
			border: 1px solid black;
		}

		img {
			border: 1.5px solid #d5f2ed
		}

		a,
		a:visited,
		a:active,
		a:link,
		a:hover {
			text-decoration: underline;
			color: #545454;
			background-color: transparent;
		}

		div.wrapdesc {
			width: 90%;
			margin: auto;
		}

		div.imagedesc {
			width: 85%;
			margin: auto;
		}
	</style>
    
 
   
</head>
	
		
  


   
<title>WIS</title></head>
    
<!--
	<body onload="loadNav();">
		<div id="openButton" class="openButton" onclick="openNav(true)">&#9776; Menu</div>
		<div id="sidenav" class="sidenav">
			<a class="closeButton" href="javascript:void(0)" onclick="closeNav(true)">&times;</a>
			<a href=".README.html">ReadMe</a>
			<a class="sprint" href="../../../Sprint0/Codice/userDocs/Cold%20Storage%20Service%20-%20Natali%20V3.html">Sprint0</a>
			<a class="sprint" href="../../../Sprint1.0/Codice/userDocs/Sprint%201.0%20-%20V3.html">Sprint1.0</a>
			<a class="sprint" href="../../../Sprint1.1/Codice/userDocs/Sprint%201.1%20-%20V3.html">Sprint1.1</a>
			<a id="currentSprint" class="sprint" href="#">&#8211;&#8212; Sprint2 &#8212;&#8211;</a>
			<div class="sidenavSection">
				<a href="#Goal Sprint 2">Goal Sprint 2</a>
				<a href="#Requisiti">Requisiti</a>
				<a href="#Analisi dei Requisiti">Analisi dei Requisiti</a>
				<a href="#Analisi del Problema">Analisi del Problema</a>
				<a href="#Test Plan">Test Plan</a>
				<a href="#Progettazione">Progettazione</a>
				<a href="#Deployment">Deployment</a>
			</div>
			<p class="separator">&mdash;&mdash;&mdash;&ndash;&ndash;&mdash;&mdash;&mdash;</p>
			<a class="sprint" href="../../../Sprint3/Codice/userDoc/Sprint%203.html">Sprint3</a>
			<bottom-spacer/>
		</div>
-->
<body>
<div id="top">
<h1>WIS<font size="5"></font> </h1>
</div>  

<div class="body"> 
<h2>Introduzione</h2>
<div class="remark">
	<a href="./TemaFinale24.html">Richiesta del committente</a> <br><br>
	Nello SPRINT1 ci si occupera' di presentare un architettura logica, un modello eseguibile e i relativi test per i componenti <strong>WIS</strong>, <strong>OpRobot</strong> e <strong>Incinerator</strong>, e di sviluppare i relativi test
	
</div>
 


 

<h2>Analisi dei Requisiti</h2>
<div class="remark">
   <a href="../../Sprint0/userDocs/doc_sprint0_2.html">Sprint0</a>

</div>
<h2>Analisi del problema</h2>
<div class="remark">
	Si analizzeranno le principali problematiche per ogni componente.
	<br>
	<br>

	<h3>Incinerator</h3>
	<li>
	<cite><strong>L'Incinerator riceve un comando di attivazione che sfrutta una connessione wirless.</strong></cite> <br>
	Dai requisiti non vengono specificati il tipo, la semantica e il mittente di questo messaggio di attivazione. 
	In questo primo sprint si opta come mittente del messaggio il componente WIS in quanto coordinatore del sistema.
	Il comando sara' essere modellato come <code>Dispatch activation_command : activation_command(N)</code>, questo perche' l'unico componente che lo riceve (ovvero l'incinerator) non risponde al messaggio di attivazione.
	<br><br></li>
	<li>
	<cite><strong>Alla fine della burning phase emette un segnale che puo' essere percepito sia dal WIS che dall'OpRobot</strong></cite><br>
	Questo segnale puo' essere modellato come un Event emesso dopo BTIME tempo dall'inizio della fase di bruciatura:
	<br> <code>Event burnEnd : burnEnd(N)</code>

	<br>Il messaggio verra' modellato come <code>Dispatch burn_start:burn_start(N)</code>
	<br><br>
	</li>
	<li>L'Incinerator deve iniziare la fase di bruciatura non appena un RP viene depositato al suo interno, per fare cio' deve accorgersi dell'aggiunta di un RP.
	L'arrivo di un RP potrebbe essere comunicato all'incinerator da due entita', dall' OpRobot o dal WIS. 
	Si sceglie come mittente del messaggio il WIS in quanto e' quest'ultimo il coordinatore del sistema. 
	Il comando puo' essere modellato come un Dispatch, poiche' non riceve risposta dall'unico componente a cui serve.
	<br>Il messaggio verra' modellato come <code>Dispatch startBurn : startBurn(N)</code> 
	<br><br>
	</li>
	<!--<h3>Architettura logica</h3>
	<img src="../wis24arch_architettura_logica.png">-->
</div>

<div class="remark">
	<h3>OpRobot</h3>
	<li>
		Il componente OpRobot comunica con BasicRobot24 attraverso l'interfaccia data.
		Il WIS deve comunicare all'OpRobot il momento in cui puo' iniziare la sua routine, questo puo' essere modellato attraverso una Dispatch, in quanto non necessita risposta da parte dell'OpRobot. 
		Il messaggio di inizio verra' modellato come <code>Dispatch startRobot : startRobot(X)</code>
	</li>
		<br>
		<br>
	<li>
		Dal momento della ricezione del segnale, l'OpRobot iniziera' la sua routine, comunicando (attraverso l'interfaccia) con il BasicRobot24.
		Il WIS deve sapere quando il robot e' nella sua fase di lavoro, per sapere se e' possibile inviare un Dispatch di tipo "startRobot".
		Per far cio' e per facilitare i controlli sul corretto funzionamento dell'Incinerator, l'OpRobot rendera' osservabile il suo stato, ovvero "idle" o "working".
		In questo modo e' impossibile avere il robot in stato "idle" e l'Incinerator in fase di bruciatura di un RP. 
		<br></br>
		Il WIS necessita anche di sapere la posizione dell'OpRobot, questo potrebbe essere utile per eventuali comunicazioni con la GUI (non oggetto di questo sprint),
		 ma anche per l'interazione con l'incinerator, che deve ottenere un comando quando un RP viene depositato al suo interno.
		Per questi scopi l'OpRobot rende osservabile anche la sua posizione.
		Il tutto tramite:<code>updateResource [ # "info(RobotState, $RobotState, RobotPosition, $RobotPosition)" #]</code>
	</li>
	
</div>

<div class="remark">
	<h3>WIS</h3>
	Il WIS e' il direttore del sistema.
	<br></br>
	In particolare per questo sprint ci si concentra sull' interazione con l'OpRobot e con l'Incinerator.
	Il  problema principale per l'invio del Dispatch "StartRobot", quando il robot e' in stato "idle",
	e' la raccolta di informazioni che provengono dal dispositivo scale e dal monitoring device.
	Questo potrebbe essere fatto in diversi modi, infatti il WIS potrebbe ricevere degli aggiornamenti quando lo stato degli altri componenti cambia,
	 oppure potrebbe essere attivo ed effettuare il polling delle informazioni.
	 Il primo metodo richiederebbe l'intervento di altri componenti, che si dovrebbero assumere la responsabilita' anche di questo compito, 
	 inoltre richiederebbe una quantita' di interazioni superiore rispetto ad un semplice polling effettuato ogni XTIME.
	<br></br>
	Viene quindi scelto di effettuare il polling delle informazioni
	<!--<h3>Architettura logica</h3>
	<img src="../wis24arch_architettura_logica.png">-->
</div>

<h2>Test plans</h2> 
<div class="remark"> 
	<h3>Incinerator - test 1</h3>
	Nel test si invia la dispatch "activation_command"
	<br>
	<li>Il test viene superato se lo stato dell'Incinerator diventa "on".</li>
	
	<li>Il test fallisce se lo stato non cambia entro MAXTIME.</li>

	<br>
	<h3>Incinerator - test 2</h3>
	Nel test si invia la dispatch "startBurn"
	<br>
	<li>Il test viene superato se dopo BTIME l'incinerator invia il segnale endBurn.</li>
	
	<li>Il test fallisce se non viene ricevuto alcun segnale dopo BTIME.</li>
	
	<h3>WIS - test 1</h3>
	Il test controlla che il Wis invii il dispatch "startRobot" solo se le condizioni espresse dai requisiti sono rispettate
	<br>
	<li>Il test viene superato se le condizioni sono rispettate.</li>
	
	<li>Il test fallisce se le condizioni non vengono rispettate.</li>

	<h3>WIS - test 2</h3>
	Nel test viene aggiornata la posizione del robot che il Wis osserva	<br>
	<li>Il test viene superato se il Wis emette il dispatch startBurn dopo che riceve la posizione "BURNIN".</li>
	
	<li>Fallisce altrimenti.</li>

	<h3>OpRobot - test 1</h3>
	Nel test viene controllata la posizione e lo stato del Robot durante un ciclo di routine<br>
	<li>Il test viene superato se il se il Robot parte in ("idle","HOME"), e termina in ("working","ASHOUT").</li>
	
	<li>Fallisce altrimenti.</li>
</div>

<h2>Project</h2> 
<div class="remark">
	<a href="../src/Sprint1.qak">Sprint1.qak</a>
	<br></br>
	<h3>Architettura logica</h3>
            <img src="../sprintunoarch.png">
	<br>
	<br><br>
</div>

<h2>Testing</h2> 
<div class="remark">
	<a href="../../Sprint1/src/main/java/test/TestOpRobot.java">Test OpRobot</a>:
            controlla la posizione e lo stato dell'OpRobot, ad inizio e fine routine:
			(idle,HOME) -> (working, ASHOUT)
    <br></br>
	<a href="../../Sprint1/src/main/java/test/TestIncinerator.java">Test Incinerator</a>:
			controlla il corretto funzionamento del comando di attivazione e di inizio fase di bruciatura dell'Incinerator:
			- activation_command(ok)
			- startBurn(ok)
	<br></br>
	<a href="../../Sprint1/src/main/java/test/Testwis.java">Test Wis</a>:
			controlla che il comando "startRobot" sia inviato se le condizioni sono rispettate e osserva la posizione dell'OpRobot:
			OpRobot in "BURNIN" -> invio di startBurn

</div>

<!--<h2>Deployment</h2> -->

 
<h2>Prossimi Sviluppi</h2> 
<div class="remark">
	<strong>SPRINT2</strong>: Analisi del problema per i componenti MonitoringDevice e Scale, e sviluppo dei relativi test

</div>
 
<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->
	      	
<br/><br/> 	
</div>  

<div style="background-color:rgba(86, 56, 253, 0.9);text-align:left;color:white">
	<div>By Michele Armillotta email: michele.armillotta2@studio.unibo.it
		<img src="./michele.jpeg" alt="mic" width="15%" height="10%">
	</div> <br>
	<div>By Nicole Giulianelli email: nicole.giulianelli@studio.unibo.it
		<img src="./nicole.png" alt="mbot" width="15%" height="15%">
	</div> <br>
	
	GIT repo: https://github.com/NicoleGiulianelli2/TemaFinale2024 <br>
</div>
</body>
</html>